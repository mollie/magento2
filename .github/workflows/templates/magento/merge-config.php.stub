<?php
/*
 * Copyright Magmodules.eu. All rights reserved.
 * See COPYING.txt for license details.
 */

# Merge the config.php file generated by Magento with our own scopes to create multiple store views.

$magentoConfig = require('app/etc/config.php');
$magentoConfig['scopes'] = [
    'websites' => [
        'admin' => [
            'website_id' => '0',
            'code' => 'admin',
            'name' => 'Admin',
            'sort_order' => '0',
            'default_group_id' => '0',
            'is_default' => '0'
        ],
        'base' => [
            'website_id' => '1',
            'code' => 'base',
            'name' => 'Main Website',
            'sort_order' => '0',
            'default_group_id' => '1',
            'is_default' => '1'
        ]
    ],
    'groups' => [
        [
            'group_id' => '0',
            'website_id' => '0',
            'name' => 'Default',
            'root_category_id' => '0',
            'default_store_id' => '0',
            'code' => 'default'
        ],
        [
            'group_id' => '1',
            'website_id' => '1',
            'name' => 'Main Website Store',
            'root_category_id' => '2',
            'default_store_id' => '1',
            'code' => 'main_website_store'
        ]
    ],
    'stores' => [
        'admin' => [
            'store_id' => '0',
            'code' => 'admin',
            'website_id' => '0',
            'group_id' => '0',
            'name' => 'Admin',
            'sort_order' => '0',
            'is_active' => '1'
        ],
        'default' => [
            'store_id' => '1',
            'code' => 'default',
            'website_id' => '1',
            'group_id' => '1',
            'name' => 'Default Store View',
            'sort_order' => '0',
            'is_active' => '1'
        ],
        'ch' => [
            'store_id' => '2',
            'code' => 'ch',
            'website_id' => '1',
            'group_id' => '1',
            'name' => 'Swiss',
            'sort_order' => '1',
            'is_active' => '1'
        ],
        'pl' => [
            'store_id' => '3',
            'code' => 'pl',
            'website_id' => '1',
            'group_id' => '1',
            'name' => 'Poland',
            'sort_order' => '2',
            'is_active' => '1'
        ],
        'it' => [
            'store_id' => '4',
            'code' => 'it',
            'website_id' => '1',
            'group_id' => '1',
            'name' => 'Italy',
            'sort_order' => '3',
            'is_active' => '1'
        ],
        'se' => [
            'store_id' => '5',
            'code' => 'se',
            'website_id' => '1',
            'group_id' => '1',
            'name' => 'Sweden',
            'sort_order' => '3',
            'is_active' => '1'
        ]
    ]
];

file_put_contents(
    'app/etc/config.php',
    '<?php return ' . var_export($magentoConfig, true) . ';' . PHP_EOL
);
